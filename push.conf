listen:
  port: 3000
  ssl:
    certificate-file: /home/yusuke/dotfiles/keys/cert.pem
    key-file: /home/yusuke/dotfiles/keys/key.pem
http2-casper: ON
access-log:
  path: /dev/stdout
  format: "%h %l %u %t \"%r\" %s %b %{x-http2-push}o"
hosts:
  default:
    paths:
      /:
        mruby.handler: |
          Proc.new do |env|
            headers = {}
            if env['PATH_INFO'] == '/main.html'
              headers['link'] = [
                '</casper.js>; rel=preload',
                '</1.css>; rel=preload',
                '</2.css>; rel=preload'
              ].join("\n")
            end
            [399, headers, []]
          end
        file.dir: /home/yusuke/develop/jxck/casper.js
